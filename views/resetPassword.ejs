<style>

    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
    #container {
    /* 	 min-height:80%; */
       margin-left:auto;
        margin-right:auto;
        width:70%;
        overflow-y: hidden;
        overflow-x: hidden;
    }
      </style>
<!DOCTYPE html>
<html>
  <body>
<div id="container">
    <div class="row mt-5">
        <div class="col-md-6 m-auto">
          <div class="card card-body">
              <% include ./partials/messages %>
              <h4 class="text-center mb-3"> Reset Password </h4>
              <div class="">
                <div id="errorMessages"></div>
              <form name="savepassword" id="formdata" method="post" enctype="multipart/form-data" >
                    <div class="form-group">
                        <label for="email">Enter New Password</label>
                        <input
                          type="password"
                          id="pass"
                          name="pass"
                          class="form-control"
                          placeholder="Enter New Password"
                          value=""
                          required="true"
                        />
                      </div>
                      <div class="form-group">
                        <label for="email">Re-enter New Password</label>
                        <input
                          type="password"
                          id="pass2"
                          name="pass2"
                          class="form-control"
                          placeholder="Re-enter New Password"
                          value=""
                          required="true"
                        />
                      </div>
                      <div>

                        <center><input type="submit" style="background-color:#2C3E50;" class="btn btn-info" id="savePass" value="Submit" name="submit" /></center> 
                        </form></div>
                        <p class="lead mt-4">
                            <a href="https://learninglinksfoundation.herokuapp.com/users/login">Back</a>
                         </p>
                    </div>
                </div>
                </div>
                </div>
                <p id = 'contactID'><%=userId %></p>
                </body>
                </html>
      
    
  
<script>
    $(document).ready(function(){
     $('#contactID').hide();
     $('form#formdata').bind('submit', function () {
        $("#savePass").attr("disabled", true);
        $.ajax({
          type: 'post',
          url : '/users/updatePass',  // Need to make changes in post method url
          data: $('form#formdata').serialize(),
          success: function (data) 
          {
             console.log(data);
             if(data== 'Updated Successfully !'){
                document.getElementById("formdata").reset();
                $("#savePass").attr("disabled", false);
                let errorHtml = '<div class="alert alert-success alert-dismissible fade show" role="alert">'+ data+
              '<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
              '<span aria-hidden="true">&times;</span>'+
              '</button>'+
              '</div>';
              $('#errorMessages').empty();
              $('#errorMessages').append(errorHtml); 
              $("#savePass").attr("disabled", false);
             
              }
              else{
                let errorHtml = '<div class="alert alert-danger alert-dismissible fade show" role="alert">'+data+
              '<button type="button" class="close" data-dismiss="alert" aria-label="Close">'+
              '<span aria-hidden="true">&times;</span>'+
              '</button>'+
              '</div>';
              $('#errorMessages').empty();
              $('#errorMessages').append(errorHtml); 
              $("#savePass").attr("disabled", false);
              }
              
          }
        });
        return false;
      });
})
</script>